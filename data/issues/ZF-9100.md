---
layout: issue
title: "Zend_Controller_Dispatcher_Exception after updating Zend from 1.9 to 1.10"
id: ZF-9100
---

ZF-9100: Zend\_Controller\_Dispatcher\_Exception after updating Zend from 1.9 to 1.10
-------------------------------------------------------------------------------------

 Issue Type: Bug Created: 2010-02-06T03:04:53.000+0000 Last Updated: 2010-02-08T11:14:36.000+0000 Status: Resolved Fix version(s): - 1.10.1 (10/Feb/10)
 
 Reporter:  Ernest Szulikowski (est)  Assignee:  Matthew Weier O'Phinney (matthew)  Tags: - Zend\_Controller
 
 Related issues: 
 Attachments: - [.htaccess](/issues/secure/attachment/12711/.htaccess)
- [application.ini](/issues/secure/attachment/12712/application.ini)
- [Bootstrap.php](/issues/secure/attachment/12713/Bootstrap.php)
- [folders.txt](/issues/secure/attachment/12714/folders.txt)
- [index.php](/issues/secure/attachment/12715/index.php)
- [sample\_ZF-9100.zip](/issues/secure/attachment/12716/sample_ZF-9100.zip)
 
### Description

I did not make any changes in my project. After updating ZF library from [http://framework.zend.com/svn/framework/…](http://framework.zend.com/svn/framework/standard/branches/release-1.9/library/) to [http://framework.zend.com/svn/framework/…](http://framework.zend.com/svn/framework/standard/branches/release-1.10/library/) I have dispatcher Exceptions:

Zend\_Controller\_Dispatcher\_Exception: Invalid controller specified (index) in D:\\www\\SvnIPMCore\\ipmcore\\lib\\Zend\\Controller\\Dispatcher\\Standard.php

and actually can't do anything. Switching back to 1.9 solves the problem, and makes everything work again...

 

 

### Comments

Posted by Matthew Weier O'Phinney (matthew) on 2010-02-06T05:40:50.000+0000

Can you please provide information regarding your application setup? \* your application.ini, if you're using Zend\_Application \* your Bootstrap class (if you've made any modifications to it) \* your index.php (if different than that generated by Zend\_Tool) \* your .htaccess (if different than that generated by Zend\_Tool) \* an overview of your directory structure

I have successfully switched from 1.9 to 1.10 without problems; without the above, reproducing the issue will be by conjecture only.

 

 

Posted by Ernest Szulikowski (est) on 2010-02-06T06:40:39.000+0000

Thank you for response. I attached affected files. I was using my own Routes (while removing the default one), but after deleting all my custom Routes and reverting the default the result was no better.

 

 

Posted by Ernest Szulikowski (est) on 2010-02-06T08:43:36.000+0000

I can reproduce this issue with this simple project (included with ZF 1.10).

Expected result: "Hello Kittie!" displayed in browser Actual result: Zend\_Controller\_Dispatcher\_Exception: Invalid controller specified (index) in D:\\www\\html\\sample\_ZF-9100\\lib\\Zend\\Controller\\Dispatcher\\Standard.php on line 242

The last Call Stack: 4. | Zend\_Controller\_Front->dispatch( $request = ???, $response = ??? ) | ..\\Bootstrap.php:97

Tested under Win XP, Apache, PHP 5.3.1

Again, after replacing 1.10 with 1.9 libs I have Expected result, no errors.

 

 

Posted by Matthew Weier O'Phinney (matthew) on 2010-02-08T10:21:11.000+0000

I traced the problem -- and it's a combination of two errors in your code, and one that occurs in Zend\_Loader::isReadable().

Zend\_Loader::isReadable() checks to see if a file is readable on the include\_path. In your application, your include\_path does not include '.', so checks against absolute paths fail. Adding '.' to the start or end of your include\_path fixes this issue.

That said, I've updated Zend\_Loader::isReadable() to fix the absolute paths issue.

The next problems is the fact that your application does not include a full ZF installation, and thus several classes that are consumed by the MVC are not present.

 
    <pre class="highlight">
    Warning: require_once(Zend/Filter/Inflector.php) [function.require-once]: failed to open stream


(This class is required by the ViewRenderer).

Please test your application against a full install of ZF, and test to ensure it works against the changes currently in trunk. Open a new issue if you're having problems.

 

 

Posted by Matthew Weier O'Phinney (matthew) on 2010-02-08T10:22:04.000+0000

Marking as "incomplete", as part of the issue was a tangentially related issue in Zend\_Loader::isReadable(), and the rest was due to issues in the reporter's setup.

 

 

Posted by Ernest Szulikowski (est) on 2010-02-08T11:14:36.000+0000

I don't use entire ZF installation as it is simply to big (I just forgot to include Filter in this example, and also what about bq. "because it has many loosely coupled components that you can use more or less independently." Usually everything works, and if not I just add required directory in Phing build script.

I can confirm, this was not an issue, adding '.' to set\_include\_path solved problem with release-1.10. Also tested against trunk (rev. 20993), and here works ok both ways: with or without '.' in include path.

Many, many thanks. E.

 

 