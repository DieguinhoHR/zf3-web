---
layout: issue
title: "Zend_Controller_Request_Http getQuery should not look directly at the $_GET superglobal"
id: ZF-4293
---

ZF-4293: Zend\_Controller\_Request\_Http getQuery should not look directly at the $\_GET superglobal
----------------------------------------------------------------------------------------------------

 Issue Type: Bug Created: 2008-09-15T03:30:01.000+0000 Last Updated: 2010-06-30T07:06:26.000+0000 Status: Resolved Fix version(s): 
 Reporter:  Rob Graham (mellowplace)  Assignee:  Matthew Weier O'Phinney (matthew)  Tags: - Zend\_Controller
 
 Related issues: 
 Attachments: 
### Description

The getQuery method in Zend\_Controller\_Request\_Http is looking at the $\_GET global which is not set with any get parameters because of the URL format

Take the url:

/controller/action/param/value

if you print\_r($request->getQuery()) it outputs Array ( )

If you change the url to:

/controller/action?param=value the output is Array ( [param] => value )

Either the $\_GET superglobal needs to be set with values by the route or this method needs to look at another source for the get string. I would suggest that seeing as you could write the controller to have any form of url that the logic needs to go somewhere around there.

 

 

### Comments

Posted by Chris (bjelleklang) on 2010-06-30T05:09:47.000+0000

This also applies to 1.10. Very frustrating if you're new to the framework (like myself).

 

 

Posted by Matthew Weier O'Phinney (matthew) on 2010-06-30T07:06:24.000+0000

getQuery() is used to retrieve values set in the query string portion of the URL -- everything after a "?", and populated in $\_GET.

The parameters you would like getQuery() to return are not part of the query string; they are part of the path. We will not alter getQuery() to retrieve them. They are artifacts generated by routing, which takes the path information and transforms it into request parameters; these parameters are considered "local" or "user" parameters. Both the getParam() and getUserParam() methods will already retrieve them.

 

 