---
layout: issue
title: "Zend_Http_UserAgent_AbstractDeviceTest::testMatchMobileOtherHeaders() unit test failure."
id: ZF-10869
---

ZF-10869: Zend\_Http\_UserAgent\_AbstractDeviceTest::testMatchMobileOtherHeaders() unit test failure.
-----------------------------------------------------------------------------------------------------

 Issue Type: Unit Tests: Problem Created: 2010-12-27T04:27:24.000+0000 Last Updated: 2010-12-28T11:53:33.000+0000 Status: Resolved Fix version(s): - 1.11.2 (30/Dec/10)
 
 Reporter:  Alexander Veremyev (alexander)  Assignee:  Matthew Weier O'Phinney (matthew)  Tags: - Zend\_Http\_UserAgent
 
 Related issues: 
 Attachments: 
### Description

{panel} 1) Zend\_Http\_UserAgent\_AbstractDeviceTest::testMatchMobileOtherHeaders Failed asserting that is true. {panel}

The same error is generated by different code within trunk and 1.11 release branch:

trunk: {panel} $userAgent = 'Opera/5.12 (Macintosh;US;PPC) [en]'; $this->assertTrue(Zend\_Http\_UserAgent\_Mobile::match($userAgent, array( 'HTTP\_USER\_AGENT' => $userAgent ))); {panel}

{panel} $server = array( 'http\_accept' => 'midp' ); $this->assertTrue(Zend\_Http\_UserAgent\_Mobile::match($userAgent, $server)); {panel}

It seems, that the problem is produced by some of latest fixes, but corresponding changes were not merged into release branch.

 

 

### Comments

Posted by Alexander Veremyev (alexander) on 2010-12-27T04:31:39.000+0000

PS It looks like large enough part of new commits were not merged into release branch yet. That would be good to have it done, since new release is coming soon.

 

 

Posted by Matthew Weier O'Phinney (matthew) on 2010-12-28T11:53:29.000+0000

Fixed on the 1.11 release branch; had to merge 3 commits from trunk to the branch.

 

 